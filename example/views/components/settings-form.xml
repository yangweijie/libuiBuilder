<!-- app/views/components/settings-form.xml -->
<vbox padding="true">
    <label style="title">系统设置</label>
    <separator/>

    <tab>
        <page title="基本设置">
            <form layout="grid">
                <field label="应用名称">
                    <entry id="appName" bind="settings.app_name" placeholder="请输入应用名称"/>
                </field>
                <field label="默认语言">
                    <combobox id="language" items="中文,English,日本語" bind="settings.language"/>
                </field>
                <field label="时区">
                    <combobox id="timezone" items="Asia/Shanghai,UTC,America/New_York" bind="settings.timezone"/>
                </field>
                <field label="主题">
                    <combobox id="theme" items="亮色主题,暗色主题,跟随系统" bind="settings.theme"/>
                </field>
                <field label="启动时最大化">
                    <checkbox id="maximized" text="启动时自动最大化窗口" bind="settings.start_maximized"/>
                </field>
            </form>
        </page>

        <page title="用户设置">
            <form layout="grid">
                <field label="允许注册">
                    <checkbox text="允许新用户注册" bind="settings.allow_registration"/>
                </field>
                <field label="默认角色">
                    <combobox items="用户,编辑,管理员" bind="settings.default_role"/>
                </field>
                <field label="密码最小长度">
                    <entry type="number" bind="settings.min_password_length" placeholder="6"/>
                </field>
                <field label="会话超时">
                    <combobox items="30分钟,1小时,2小时,1天" bind="settings.session_timeout"/>
                </field>
            </form>
        </page>

        <page title="数据设置">
            <form layout="grid">
                <field label="数据库备份">
                    <hbox>
                        <checkbox text="启用自动备份" bind="settings.auto_backup"/>
                        <button onclick="backupNow">立即备份</button>
                    </hbox>
                </field>
                <field label="备份频率">
                    <combobox items="每天,每周,每月" bind="settings.backup_frequency"/>
                </field>
                <field label="日志级别">
                    <combobox items="ERROR,WARN,INFO,DEBUG" bind="settings.log_level"/>
                </field>
                <field label="日志保留天数">
                    <entry type="number" bind="settings.log_retention_days" placeholder="30"/>
                </field>
            </form>
        </page>
    </tab>

    <separator/>

    <!-- 操作按钮 -->
    <hbox>
        <button onclick="saveSettings" primary="true">保存设置</button>
        <button onclick="resetSettings">重置为默认</button>
        <button onclick="exportSettings">导出配置</button>
        <button onclick="importSettings">导入配置</button>
    </hbox>

    <!-- 设置状态 -->
    <hbox>
        <label id="settingsStatus">{{$settings_message ?? ''}}</label>
        <spacer/>
        <label style="small">最后保存: {{$last_saved ?? '未保存'}}</label>
    </hbox>
</vbox>